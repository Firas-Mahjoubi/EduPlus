{% extends 'base.html.twig' %}

{% block title %}Détails du Recrutement{% endblock %}

{% block body %}
<div class="container mt-5">
    <h1 class="mb-4 text-center">Détails de l'Annonce de Recrutement</h1>

    <!-- Carte des détails -->
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2>{{ recruitment.title }}</h2>
        </div>
        <div class="card-body">
            <p><strong>Description :</strong></p>
            <p>{{ recruitment.description }}</p>

            <p><strong>Statut :</strong> 
                <span class="badge {{ recruitment.status == 'open' ? 'bg-success' : 'bg-danger' }}">
                    {{ recruitment.status | capitalize }}
                </span>
            </p>

            <p><strong>Exigences :</strong></p>
            <p>{{ recruitment.requirements }}</p>

            <p><strong>Lieu :</strong> {{ recruitment.location }}</p>

            <p><strong>Date limite :</strong> {{ recruitment.deadline|date('d/m/Y') }}</p>

            <p><strong>Créé le :</strong> {{ recruitment.dateCreated|date('d/m/Y H:i') }}</p>

            {% if recruitment.dateUpdated %}
                <p><strong>Dernière mise à jour :</strong> {{ recruitment.dateUpdated|date('d/m/Y H:i') }}</p>
            {% endif %}

            <p><strong>Club :</strong> Club ID #{{ recruitment.club.id }}</p>
        </div>
    </div>

    <!-- Boutons d'actions -->
    <div class="mt-4 d-flex justify-content-between">
        
        {% if is_granted('ROLE_ADMIN') %}
            <a href="{{ path('recruitment_edit', { id: recruitment.id }) }}" class="btn btn-warning">Modifier</a>
            <a href="{{ path('Recruitment_delete', { id: recruitment.id }) }}" class="btn btn-danger" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette annonce ?');">Supprimer</a>
        {% endif %}
    </div>
</div>
{% endblock %}
